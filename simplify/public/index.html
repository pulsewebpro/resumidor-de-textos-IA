<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Simplify AI — Textos en 1 click</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <main class="container">
    <h1>Simplify AI – Textos en 1 click</h1>
    <p class="subtle">Prueba rápida para verificar despliegue y la API.</p>

    <section class="card" aria-labelledby="input-title">
      <h2 id="input-title" class="sr-only">Entrada</h2>
      <textarea id="input" rows="10" placeholder="Pega tu texto aquí…"></textarea>
      <div class="actions">
        <button id="btn-gen" class="btn primary">Generar (ping API)</button>
        <button id="btn-health" class="btn outline">Probar /api/health</button>
      </div>
    </section>

    <!-- CHIPS -->
    <section class="card" aria-labelledby="chips-title">
      <h3 id="chips-title">Acciones rápidas</h3>
      <div id="chips-panel" class="chips-grid"></div>
    </section>

    <!-- PAGO -->
    <section id="pay-panel" class="card" aria-labelledby="pay-title">
      <h3 id="pay-title">Créditos y suscripción</h3>
      <p>Te quedan <strong id="uses-left">3/3</strong> usos gratis. Cuando se agoten, compra créditos:</p>
      <div class="pay-actions">
        <a id="pay-one"  class="btn primary" rel="noopener" target="_blank">1 uso · 1 €</a>
        <a id="pay-pack" class="btn outline" rel="noopener" target="_blank">10 usos · 5 €</a>
        <a id="pay-sub"  class="btn ghost"   rel="noopener" target="_blank">Suscripción · 8 €/mes</a>
      </div>
      <small>Stripe gestiona el pago. No guardamos datos de tarjetas.</small>
    </section>

    <!-- RESULTADO (tabs accesibles) -->
    <section class="card" aria-labelledby="result-title">
      <h3 id="result-title">Resultado</h3>

      <div role="tablist" aria-label="Vistas de salida" class="tabs">
        <button role="tab" aria-selected="true" aria-controls="tab-res" id="tabbtn-res"  class="tab">Resultado</button>
        <button role="tab" aria-selected="false" aria-controls="tab-json" id="tabbtn-json" class="tab">JSON</button>
        <button role="tab" aria-selected="false" aria-controls="tab-raw" id="tabbtn-raw"  class="tab">Raw</button>
      </div>

      <div id="loading" hidden>Generando…</div>

      <pre id="tab-res"  role="tabpanel" tabindex="0" aria-labelledby="tabbtn-res"  class="panel"></pre>
      <pre id="tab-json" role="tabpanel" tabindex="-1" aria-labelledby="tabbtn-json" class="panel" hidden></pre>
      <pre id="tab-raw"  role="tabpanel" tabindex="-1" aria-labelledby="tabbtn-raw"  class="panel" hidden></pre>
    </section>
  </main>

  <!-- Scripts (orden importante) -->
  <script src="/pay.config.js"></script>
  <script src="/pay.guard.js"></script>
  <script src="/chips.js"></script>
  <script src="/pay.ui.js"></script>
  <script src="/main.js"></script>
</body>
</html>
